{{- if and .Values.modelServers.promptInjectionBinary.enabled (not .Values.modelServers.promptInjectionBinary.remoteModelServer.enabled) }}
# Autogenerated by a script. DO NOT EDIT.
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "ri-detection-resources.fullname" . }}-prompt-injection-binary-conf
data:
  model-settings.json: |
    {
        "name": "prompt-injection-binary",
        "classifier_config": {"fixed_threshold": null, "positive_class_index": 1, "sensitivity_based_thresholds": {"RULE_SENSITIVITY_HIGH": 0.121109, "RULE_SENSITIVITY_LOW": 0.8987822, "RULE_SENSITIVITY_MEDIUM": 0.7214332, "RULE_SENSITIVITY_VERY_HIGH": 0.0032268, "RULE_SENSITIVITY_VERY_LOW": 0.9615459}},
        "huggingface_config": {
          "model_task": "text-classification",
          "tokenizer_kwargs": {"max_length": 512, "padding": true, "truncation": true},
      {{- if .Values.modelServers.promptInjectionBinary.useCachedArtifact.enabled }}
          "downloaded_model_local_path": "/model_downloaded_artifact",
      {{- end }}
          "repository": "robustintelligence/prompt-injection-snowflake-baseline",
          "revision": "5c4fe389401cbbce95a84bac02b37e1323cc48c6"
        }
    }
{{- end }}
